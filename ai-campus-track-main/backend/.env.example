# ==============================================
# BACKEND ENVIRONMENT CONFIGURATION
# ==============================================
#
# Copy this file to .env and update the values
# This file is for local development only
#

# ==============================================
# APPLICATION SETTINGS
# ==============================================
APP_NAME="AI Campus Attendance Tracker"
APP_ENV=development
DEBUG=true
API_VERSION=v1
PORT=8000

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# 
# If using Docker Compose (recommended):
DATABASE_URL=postgresql://postgres:password@localhost:5432/campus_attendance
#
# If using local PostgreSQL, update with your credentials:
# DATABASE_URL=postgresql://YOUR_USERNAME:YOUR_PASSWORD@localhost:5432/campus_attendance
#
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ==============================================
# REDIS CONFIGURATION (Optional)
# ==============================================
# Used for caching and Celery task queue
# If not using Redis, some features may be disabled
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600

# ==============================================
# JWT & SECURITY
# ==============================================
# IMPORTANT: Change this in production!
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production-use-long-random-string
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==============================================
# PASSWORD SETTINGS
# ==============================================
PASSWORD_MIN_LENGTH=8
PASSWORD_BCRYPT_ROUNDS=12

# ==============================================
# CORS SETTINGS
# ==============================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# ==============================================
# AI FACE RECOGNITION SETTINGS (Optional)
# ==============================================
# These are used if you enable AI face recognition
# Default values work for most cases
FACE_DETECTION_CONFIDENCE=0.7
FACE_RECOGNITION_TOLERANCE=0.6
FACE_MODEL=hog
FACE_ENCODING_MODEL=large
MAX_FACE_DISTANCE=0.6

# ==============================================
# CAMERA SETTINGS (Optional)
# ==============================================
# Used for live camera feed monitoring
CAMERA_FRAME_RATE=30
CAMERA_RESOLUTION_WIDTH=1280
CAMERA_RESOLUTION_HEIGHT=720
STREAM_QUALITY=high

# ==============================================
# RFID SETTINGS (Optional)
# ==============================================
# Used if you have RFID card readers
RFID_PORT=/dev/ttyUSB0
RFID_BAUDRATE=9600
RFID_TIMEOUT=1

# ==============================================
# EMAIL CONFIGURATION (Optional)
# ==============================================
# Used for sending email notifications
# If not configured, email features will be disabled
SENDGRID_API_KEY=your-sendgrid-api-key-here
FROM_EMAIL=noreply@campus-attendance.com
FROM_NAME=Campus Attendance System

# ==============================================
# NOTIFICATION SETTINGS
# ==============================================
# Enable/disable different notification channels
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_PUSH_NOTIFICATIONS=false

# ==============================================
# FILE UPLOAD SETTINGS
# ==============================================
UPLOAD_DIR=uploads
MAX_UPLOAD_SIZE=10485760
ALLOWED_IMAGE_TYPES=jpg,jpeg,png
ALLOWED_DOCUMENT_TYPES=pdf,docx,xlsx,csv

# ==============================================
# CELERY SETTINGS (Optional)
# ==============================================
# Used for background tasks
# Requires Redis to be running
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ==============================================
# LOGGING
# ==============================================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log

# ==============================================
# SESSION SETTINGS
# ==============================================
SESSION_TIMEOUT_MINUTES=60
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

# ==============================================
# ATTENDANCE SETTINGS
# ==============================================
# Auto checkout after X hours if user forgets
AUTO_CHECKOUT_HOURS=12
# Define what counts as "late" or "early"
LATE_ARRIVAL_THRESHOLD_MINUTES=15
EARLY_DEPARTURE_THRESHOLD_MINUTES=15
